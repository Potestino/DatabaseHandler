alter session set current_schema = GF_ARQUITETURA;

----------------------------------------------------------
--DATABASEHANDLER SEQUENCE WITH TRIGGER
----------------------------------------------------------
CREATE TABLE DBH_SEQ_WITH_TRIGGER (
  ID           NUMBER(10)    NOT NULL,
  DESCRIPTION  VARCHAR2(100) NOT NULL,
  VALUE        NUMBER(10)    NOT NULL);

ALTER TABLE DBH_SEQ_WITH_TRIGGER ADD (
  CONSTRAINT DBH_SEQ_WITH_TRIGGER_PK PRIMARY KEY (ID));

CREATE SEQUENCE DBH_SEQ_WITH_TRIGGER_SEQ START WITH 1;

CREATE OR REPLACE TRIGGER DBH_SEQ_WITH_TRIGGER_T 
BEFORE INSERT ON DBH_SEQ_WITH_TRIGGER 
FOR EACH ROW
BEGIN
  SELECT DBH_SEQ_WITH_TRIGGER_SEQ.NEXTVAL
  INTO   :new.id
  FROM   dual;
END DBH_SEQ_WITH_TRIGGER_T;
/
----------------------------------------------------------
--DATABASEHANDLER SEQUENCE WITHOUT TRIGGER
----------------------------------------------------------
CREATE TABLE DBH_SEQ_WITHOUT_TRIGGER (
  ID           NUMBER(10)    NOT NULL,
  DESCRIPTION  VARCHAR2(100) NOT NULL,
  VALUE        NUMBER(10)    NOT NULL);

ALTER TABLE DBH_SEQ_WITHOUT_TRIGGER ADD (
  CONSTRAINT DBH_SEQ_WITHOUT_TRIGGER_PK PRIMARY KEY (ID));

CREATE SEQUENCE DBH_SEQ_WITHOUT_TRIGGER_SEQ START WITH 1;

----------------------------------------------------------
--DATABASEHANDLER GUID WITH TRIGGER
----------------------------------------------------------
CREATE TABLE DBH_GUID_WITH_TRIGGER (
  GUID         RAW(16)       NOT NULL,
  DESCRIPTION  VARCHAR2(100) NOT NULL,
  VALUE        NUMBER(10)    NOT NULL);

ALTER TABLE DBH_GUID_WITH_TRIGGER ADD (
  CONSTRAINT DBH_GUID_WITH_TRIGGER_PK PRIMARY KEY (GUID));

CREATE SEQUENCE DBH_GUID_WITH_TRIGGER_SEQ START WITH 1;

CREATE OR REPLACE TRIGGER DBH_GUID_WITH_TRIGGER_T 
BEFORE INSERT ON DBH_GUID_WITH_TRIGGER 
FOR EACH ROW
BEGIN
  SELECT sys_guid()
  INTO   :new.GUID
  FROM   dual;
END DBH_GUID_WITH_TRIGGER_T;
/
----------------------------------------------------------
--DATABASEHANDLER GUID WITHOUT TRIGGER
----------------------------------------------------------
CREATE TABLE DBH_GUID_WITHOUT_TRIGGER (
  GUID         RAW(16)       NOT NULL,
  DESCRIPTION  VARCHAR2(100) NOT NULL,
  VALUE        NUMBER(10)    NOT NULL);

ALTER TABLE DBH_GUID_WITHOUT_TRIGGER ADD (
  CONSTRAINT DBH_GUID_WITHOUT_TRIGGER_PK PRIMARY KEY (GUID));

CREATE SEQUENCE DBH_GUID_WITHOUT_TRIGGER_SEQ START WITH 1;